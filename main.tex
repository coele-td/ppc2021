%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
%
%   Projeto pedagógico do Curso de Engenharia Eletrônica da Universidade Tecnológica Federal do Paraná
%   (UTFPR) - Campus Toledo
%   Baseado nas orientações do estilo abntex2 (http://linorg.usp.br/CTAN/macros/latex/contrib/abntex2/doc/abntex2.pdf)
%   Autor: Núcleo Docente Estruturante
%   Contato: Prof. Felipe Walter Dafico Pfrimer - pfrimer@utfpr.edu.br
%   Última atualização: 03/02/2021
%
%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

% Tipo de documento ABNTEX2:
% Configurações: tamanho 12pt, capítulos iniciando em páginas ímpares (openright),
% layout single-sided (oneside), papel A4, sumário conforme ABNT NBR 6027:2012,
% títulos em maiúsculas para todos os níveis de seção, idiomas inglês/francês/espanhol/português
\documentclass[12pt,openright,oneside,a4paper,
%sumario=tradicional, % para o recomendado pela ABNT utilize sumario=abnt-6027-2012
sumario=abnt-6027-2012,
chapter=TITLE,  % títulos de capítulos convertidos em letras maiúsculas
section=TITLE,  % títulos de seções convertidos em letras maiúsculas
subsection=TITLE, % títulos de subseções convertidos em letras maiúsculas
subsubsection=TITLE, % títulos de subsubseções em letras maiúsculas
subsubsubsection=TITLE, % títulos de subsubsubseções em letras maiúsculas
english,french,spanish,brazil]{abntex2}
% OBSERVAÇÃO: A ABNT NBR 14724:2011 (seção 5.1) recomenda impressão frente-e-verso (twoside),
% mas esta opção está desativada para este documento específico.

% Margens: esquerda 30mm, direita 20mm, topo 30mm, inferior 15mm
\usepackage[left=30mm, right=20mm, top = 30mm, bottom = 15mm]{geometry}

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% PACOTES PARA LÍNGUA PORTUGUESA DO BRASIL (configuração recomendada pelo estilo abntex2):
% Este bloco detecta automaticamente o compilador (pdflatex ou xelatex) e carrega os pacotes adequados
\usepackage{ifxetex}
\ifxetex
    % Para XeLaTeX: carrega fontspec para melhor suporte a fontes
    \usepackage{fontspec}
    \defaultfontfeatures{Ligatures={TeX}}
\else
    % Para PdfLaTeX: carrega inputenc e fontenc para codificação UTF-8
    \usepackage[utf8]{inputenc}
    \usepackage[T1]{fontenc}
\fi

% OBSERVAÇÃO: Quando um documento é compilado com xelatex, os pacotes inputenc e fontenc
% não devem ser incluídos. Ao invés disso, usa-se fontspec. O código acima torna a compilação
% flexível, funcionando tanto com pdflatex quanto com xelatex.

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% ARQUIVOS DE CONFIGURAÇÃO DO CURSO:
% Editar o documento "dados_gerais.tex" com as informações específicas do curso
\input{dados_gerais}
\input{capa}

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% PACOTES BÁSICOS E DE TIPOGRAFIA:
\usepackage{amssymb}              % Símbolos matemáticos adicionais
\usepackage{tabto}                % Tabulação em posições específicas
\usepackage{indentfirst}          % Indenta o primeiro parágrafo de cada seção
\usepackage{bm}                   % Comando \bm para fórmulas matemáticas em negrito
\usepackage[font=small,labelfont=bf,textfont=bf]{caption} % Legendas em negrito e tamanho pequeno
\usepackage{textcomp}             % Símbolos adicionais (baht, bullet, copyright, etc.)
\usepackage{upgreek}              % Letras gregas não-itálicas
\usepackage{verbatim}             % Ambientes para texto literal
\usepackage{lipsum}               % Texto de preenchimento para testes (remover em produção)

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% PACOTES PARA BIBLIOGRAFIA E CITAÇÕES (ABNT):
% Configurações para atender normas ABNT com estilo numérico
\usepackage[%
    num,                        % estilo numérico (ao invés de autor-data)
    abnt-emphasize=bf,          % destaque em negrito para títulos
    bibjustif,                  % justificar texto da bibliografia
    recuo=0cm,                  % recuo da bibliografia
    abnt-url-package=url,       % usar pacote url para URLs
    abnt-refinfo=yes,           % usar estilo bibliográfico abnt-refinfo
    abnt-etal-cite=3,           % mostrar "et al." após 3 autores nas citações
    abnt-etal-list=3,           % mostrar até 3 autores na lista
    abnt-thesis-year=final      % ano da defesa (não envio) na capa
]{abntex2cite}

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% PACOTES PARA FIGURAS E TABELAS:
\usepackage{graphicx}            % Inclusão de gráficos e imagens
\usepackage{longtable}           % Tabelas longas que se estendem por várias páginas
\usepackage{booktabs}            % Linhas horizontais profissionais em tabelas
\usepackage{array}               % Melhor controle sobre colunas em tabelas
\usepackage{tabularx}            % Tabelas com colunas de largura ajustável
\usepackage{multicol}            % Mesclagem de colunas em tabelas
\usepackage{multirow}            % Mesclagem de linhas em tabelas
\usepackage{colortbl}            % Colorir células em tabelas
\usepackage{makecell}            % Controle adicional sobre células de tabelas
\usepackage{bigstrut}            % Linhas maiores em tabelas
\usepackage[table,xcdraw]{xcolor}% Cores para tabelas e desenhos
\definecolor{tableShade}{gray}{0.9} % Cor para sombreamento de tabelas

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% PACOTES PARA LISTAS E ELEMENTOS ESPECIAIS:
\usepackage{enumitem}            % Formatação avançada de listas
\usepackage{forloop}             % Laços de repetição
\usepackage{pgffor}              % Laço foreach (usado com pgfplots)
\usepackage{listings}            % Inclusão de código-fonte (ATENÇÃO: declarado duas vezes no original)
\usepackage{nomencl}             % Lista de abreviaturas e símbolos
\makenomenclature                % Ativa a lista de abreviaturas e símbolos
\usepackage{ifthen}              % Condicional para nomclatura

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% CONFIGURAÇÕES PARA LISTA DE ABRREVIATURAS E SÍMBOLOS:
% Remove o título original da Nomeclatura:
\renewcommand{\nomname}{}
% Modifica a separação dos itens:
\setlength{\nomitemsep}{0pt}
\setlength{\nomlabelwidth}{2.5cm}
% Definição dos grupos:
\renewcommand{\nomgroup}[1]{%
     \ifthenelse{\equal{#1}{A}}{\cleardoublepage\item\makebox[0.8\linewidth]{\textbf{\uppercase{\large{Lista de Abreviaturas e Siglas}}}} \makebox[\linewidth]{}\\[0.6cm]}{%
     \ifthenelse{\equal{#1}{S}}{\cleardoublepage\item\makebox[0.8\linewidth]{\textbf{\uppercase{\large{Lista de Símbolos}}}} \makebox[\linewidth]{}\\[0.6cm]}{}}}

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% PACOTES PARA PÁGINAS ESPECIAIS E ORIENTAÇÃO:
\usepackage{lscape}              % Rotação de páginas inteiras
\usepackage{pdflscape}           % Rotação de páginas em PDF
\usepackage{afterpage}           % Inserir conteúdo na próxima página disponível

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% PACOTES MATEMÁTICOS E DE CÁLCULO:
\usepackage{fp}                  % Aritmética de ponto flutuante
\usepackage{siunitx}             % Unidades do Sistema Internacional
\gdef\numdec{3}                  % Número padrão de casas decimais
\mathchardef\period=\mathcode`.   % Configura o modo matemático para substituir ponto por vírgula

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% PACOTES PARA ANOTAÇÕES E HIPERLINKS:
\usepackage[author=Pfrimer,markup=Highlight,color=yellow]{pdfcomment} % Comentários PDF
\usepackage{hyperref}            % Hiperlinks e metadados PDF
\usepackage{lastpage}            % Referência à última página
\usepackage[paper=A4]{typearea}  % Área de texto otimizada
\usepackage{pdftexcmds}          % Comandos extras para PDF

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% PACOTES PARA GRÁFICOS E DESENHOS:
\usepackage{tikz}                % Desenhos vetoriais
\usetikzlibrary{shadows.blur}    % Sombras com desfoque
\usepackage{pgfplotstable}       % Tabelas com PGFPlots
\pgfplotsset{compat=1.18}        % Compatibilidade com PGFPlots

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% PACOTES PARA TRATAMENTO DE DADOS:
\usepackage{csvsimple}           % Leitura de arquivos CSV

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% FORMATAÇÃO DE CABEÇALHOS E RODAPÉS:
% Usando sistema nativo do memoir ao invés do fancyhdr (recomendado)
% \usepackage{fancyhdr}  % Comentado pois memoir já tem sistema próprio de cabeçalhos
\makepagestyle{abntmemoir}       % Cria um estilo de página compatível com ABNT
\makeevenhead{abntmemoir}{}{}{}  % Cabeçalho par em branco
\makeoddhead{abntmemoir}{}{}{}   % Cabeçalho ímpar em branco
\makeevenfoot{abntmemoir}{}{\thepage}{}  % Rodapé par com número centralizado
\makeoddfoot{abntmemoir}{}{\thepage}{}   % Rodapé ímpar com número centralizado
\pagestyle{abntmemoir}           % Aplica o estilo de página

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% OUTRAS CONFIGURAÇÕES:
\usepackage[ddmmyyyy]{datetime}  % Formatação de datas

% Ajuste da área de texto para evitar warnings de DIV muito baixo
% O pacote typearea já foi carregado anteriormente, linha 137
\typearea{10}                    % Define um valor adequado para a divisão do layout

% Configurações de fonte para títulos de acordo com manual do abntex2
% Por padrão, uma versão sem serifas da fonte corrente é utilizada para títulos
\renewcommand{\ABNTEXchapterfont}{\fontfamily{cmr}\fontseries{b}\selectfont}
\renewcommand{\ABNTEXchapterfontsize}{\large}
\renewcommand{\ABNTEXsectionfontsize}{\normalsize}
\renewcommand{\ABNTEXsubsectionfontsize}{\normalsize}
\renewcommand{\ABNTEXsubsubsectionfontsize}{\normalsize}
\renewcommand{\ABNTEXsubsubsubsectionfontsize}{\normalsize}

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% CONFIGURAÇÕES PARA QUADROS (semelhante às tabelas e figuras):
\newcommand{\quadroname}{Quadro}
\newcommand{\listofquadrosname}{Lista de quadros}

\newfloat[chapter]{quadro}{loq}{\quadroname}
\newlistof{listofquadros}{loq}{\listofquadrosname}
\newlistentry{quadro}{loq}{0}

% Configurações para atender às regras da ABNT (não remover ou alterar)
\setfloatadjustment{quadro}{\centering}
\counterwithout{quadro}{chapter}
\renewcommand{\cftquadroname}{\quadroname\space}
\renewcommand*{\cftquadroaftersnum}{\hfill--\hfill}

% Configuração de posicionamento padrão:
\setfloatlocations{quadro}{hbtp}

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% COMANDOS CUSTOMIZADOS:
% Arquivo com definições específicas do curso
\input{comandos.tex}

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% CONFIGURAÇÕES DE METADADOS DO PDF:
% ATENÇÃO: Atualizar estas informações com dados reais do documento
\makeatletter
\hypersetup{
    %pagebackref=true,
    %pdftitle={Projeto Pedagógico do Curso de Engenharia Eletrônica - UTFPR Toledo},
    %pdfauthor={Núcleo Docente Estruturante},
    %pdfsubject={Projeto Pedagógico do Curso},
    %pdfcreator={LaTeX com abnTeX2},
    %pdfkeywords={Engenharia Eletrônica}{UTFPR}{PPC}{Projeto Pedagógico},
    colorlinks=true,              % links coloridos (ao invés de caixas)
    linkcolor=black,              % cor dos links internos
    citecolor=black,              % cor dos links para bibliografia
    filecolor=magenta,            % cor dos links para arquivos
    urlcolor=black,               % cor dos links URL
    bookmarksdepth=4              % profundidade dos marcadores
}
\makeatother

% Metadados do PDF
\makeatletter
\pdfinfo {
    /Title (Projeto Pedagógico do Curso de Engenharia Eletrônica - UTFPR Toledo)
    /Author (Núcleo Docente Estruturante)
    /Subject (Projeto Pedagógico do Curso)
    /Keywords (Engenharia\space Eletrônica, UTFPR, PPC, Projeto\space Pedagógico)
}
\makeatother

%++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
% INÍCIO DO DOCUMENTO:
\begin{document}

    %++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    % ELEMENTOS PRÉ-TEXTUAIS
    % Cálculo das horas (processamento de dados quantitativos)
    \input{Contadores/contadores.tex}

    \pretextual

    % Imprime capa e pula sua numeração
    \pagenumbering{gobble} % Remove a visualização da numeração das páginas e reinicia em 1
    \clearpage
    \thispagestyle{empty}
    \input{identificacao.tex}
    \imprimircapa
    \clearpage
    \pagenumbering{arabic}% Numeração arábica (e reinicia em 1)

    % Imprime a folha de rosto (padrão do abntex2)
    \imprimirfolhaderosto*

    % Lista de figuras
    \pdfbookmark[0]{\listfigurename}{lof}
    \listoffigures*
    \cleardoublepage

    % Lista de tabelas (Opcional)
    %\listoftables

    % Lista de abreviaturas e siglas
    \pdfbookmark[0]{\nomname}{lst}
    \printnomenclature
    \cleardoublepage

    % Sumário
    \pdfbookmark[0]{\contentsname}{toc}
    \tableofcontents*
    \cleardoublepage

    %++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    % ELEMENTOS TEXTUAIS
    \textual

    % Capítulos principais do PPC:
    \input{Caps/cap1.tex} % CONTEXTUALIZAÇÃO DA INSTITUIÇÃO
    \input{Caps/cap2.tex} % VALORES E PRINCÍPIOS INSTITUCIONAIS
    \input{Caps/cap3.tex} % POLÍTICAS DE ENSINO
    \input{Caps/cap4.tex} % CONTEXTUALIZAÇÃO
    \input{Caps/cap5.tex} % Matriz curricular
    \input{Caps/cap6.tex} % (adicionar descrição específica se disponível)
    \input{Caps/cap7.tex} % ESTRUTURA ORGANIZACIONAL DO CURSO
    \input{Caps/cap8.tex} % (adicionar descrição específica se disponível)
    \input{Caps/cap9.tex} % (adicionar descrição específica se disponível)
    \input{Caps/cap10.tex} % (adicionar descrição específica se disponível)
    \input{Caps/cap11.tex} % (adicionar descrição específica se disponível)

    %++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    % ELEMENTOS PÓS-TEXTUAIS
    % Bibliografia
    \bibliography{references}

    \postextual

    % Apêndices:
    \apendices
    % \input{Apendices/apendice_1.tex}

    % Anexos:
    \anexos
    %\input{Anexos/anexo_1.tex}

\end{document}
